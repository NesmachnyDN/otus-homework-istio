# Практика к занятию по теме "Service mesh на примере Istio"
Задание состоит из этапов
1) Развернуть Minikube
2) Развернуть Istio c Ingress gateway
3) Развернуть две версии приложения с использованием Istio
4) Настроить балансировку трафика между версиями приложения на уровне Gateway 50% на 50%
5) Сделать снимок экрана с картой сервисов в Kiali с примеров вызова двух версии сервиса


1) Для выполнения задания в кластере Кубернетес развернуты 2 версии одного и того-же приложения Echoserver
![Листинг файла с манифестами тестовых приложений](doc/echoservers.png)

перечень сервисов в Истио
   ![перечень сервисов в Истио](doc/services.png)

Конфигурация в Истио
   ![Конфигурация в Истио](doc/istio-config.png)
   

2) В Istio создан манифест на IstioGateway и заданы правила балансировки трафика в VirtualService
   ![Листинг файла с манифестами Istio](doc/istio-manifest.png)

3) Разработан скрипт, подающий нагрузку на входной ендпоинт gateway
![Листинг скрипта нагрузки](doc/load-cycle.png)

4) Скрипт запущен и работает
   ![Листинг лога скрипта нагрузки](doc/load-log.png)

5) На дашборде kiali с включенной визуализацией traffic Animation отображается прохождение сообщений и распределение потоков  в соответствии с заданными процентами весов
   ![Скриншот с демонстрацией распределения трафика](doc/istio-50x50.png)